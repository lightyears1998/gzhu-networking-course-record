---
layout: post
title:  "Task 6: äº¤æ¢æœºçš„ä¸‰å±‚åŠŸèƒ½"
date:   2020-05-24 22:00:00 +0800
categories: [switch, static-routing, vlan-interface]
---

æœ¬å‘¨çš„é‡ç‚¹è¿˜æ˜¯äº¤æ¢æœºï¼ŒğŸ¦ŒåŒ—é¹¿è€å¸ˆè¿™æ¬¡è®©æˆ‘ä»¬åšäº¤æ¢æœºçš„ä¸‰å±‚åŠŸèƒ½ã€‚
æ˜æ˜æ˜¯ä¸ªäº¤æ¢æœºï¼Œå´è¦å¼€å¯ä¸‰å±‚åŠŸèƒ½ï¼Ÿ

---

![ç½‘ç»œæ‹“æ‰‘](https://lightyears1998.github.io/gzhu-networking-course-record/images/task6.png)

é™¤äº†é…ç½®å¥½PCçš„é™æ€IPåœ°å€å’Œç½‘å…³ä¹‹å¤–ï¼Œè¿˜éœ€è¦åœ¨äº¤æ¢æœºä¸Šåšå‡ºä¸â€œVlan Interfaceâ€å’Œâ€œIP Static Routing Tableâ€ç›¸å…³çš„è®¾å®šã€‚

``` shell
# SW1
vlan 10
port ge 1/0/2

int vlan 10
ip addr 10.1.1.2 24

int ge 1/0/1
port link-mode route
ip addr 30.1.1.1 24
quit

ip route-static 20.1.1.0 24 30.1.1.2
```

``` shell
# SW2
int ge 1/0/1
port link-mode route
ip addr 30.1.1.2 24

int ge 1/0/2
port link-mode route
ip addr 40.1.1.1 24
quit

ip route-static 10.1.1.0 24 30.1.1.1
ip route-static 20.1.1.0 24 40.1.1.2
```

``` shell
# SW3
vlan 20
port ge 1/0/2

int vlan 20
ip addr 20.1.1.2 24

int ge 1/0/1
port link-mode route
ip addr 40.1.1.2 24
quit

ip route-static 10.1.1.0 24 40.1.1.1
```

å¯ä»¥ä½¿ç”¨`disp this`ã€`disp vlan brief`ã€`disp ip interface brief`ã€`disp ip routing-table`ç­‰å‘½ä»¤æ¥æŸ¥çœ‹è®¾å¤‡ä¸Šçš„è®¾ç½®ã€‚

é€šè¿‡`Ping`æ¥éªŒè¯ä¸»æœºä¹‹é—´çš„è¿é€šæ€§ï¼š

```sh
# From PC1
ping 20.1.1.1 # å¯é€š
```
